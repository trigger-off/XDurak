ðŸ“¦
19829 /src/main.js
7738 /src/AndroidBasic.js
900 /src/GDX.js
42 /src/XDurak.js
âœ„
import e from"./XDurak.js";const a=new Date;import{CheckBox as t,DialogBuilder as s,EditText as n,LinearLayout as r,TextView as c}from"./AndroidBasic.js";import{Preferences as o}from"./GDX.js";function i(e){return(e.getHours()<10?"0":"")+e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()+":"+(e.getSeconds()<10?"0":"")+e.getSeconds()}function u(e){return(e.getDate()<10?"0":"")+e.getDate()+"/"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"/"+e.getFullYear()}console.warn("work, runtime: ",u(a),i(a));class l{preferences;script_update={old:0,new:Number(e.VERSION)};constructor(a){this.preferences=new o(a.getPreferences("XDurak")),this.script_update.old=Number(this.preferences.getString("version","0")),this.preferences.putString("version",e.VERSION),this.preferences.flush()}accurate_search=0;connect_to_first_game=!1;get auto_beat(){return this.preferences.getBoolean("auto_beat",!1)}set auto_beat(e){this.preferences.putBoolean("auto_beat",e),this.preferences.flush()}get auto_take(){return this.preferences.getBoolean("auto_take",!1)}set auto_take(e){this.preferences.putBoolean("auto_take",e),this.preferences.flush()}get auto_done(){return this.preferences.getBoolean("auto_done",!1)}set auto_done(e){this.preferences.putBoolean("auto_done",e),this.preferences.flush()}get watch_cards(){return this.preferences.getBoolean("watch_cards",!1)}set watch_cards(e){this.preferences.putBoolean("watch_cards",e),this.preferences.flush()}get auto_ready(){return this.preferences.getBoolean("auto_ready",!1)}set auto_ready(e){this.preferences.putBoolean("auto_ready",e),this.preferences.flush()}get highlight(){return this.preferences.getBoolean("highlight",!0)}set highlight(e){this.preferences.putBoolean("highlight",e),this.preferences.flush()}get toast_cheater(){return this.preferences.getBoolean("toast_cheater",!0)}set toast_cheater(e){this.preferences.putBoolean("toast_cheater",e),this.preferences.flush()}get grey_card_cheater(){return this.preferences.getBoolean("grey_card_cheater",!0)}set grey_card_cheater(e){this.preferences.putBoolean("grey_card_cheater",e),this.preferences.flush()}get autoclick_cheater(){return this.preferences.getBoolean("autoclick_cheater",!1)}set autoclick_cheater(e){this.preferences.putBoolean("autoclick_cheater",e),this.preferences.flush()}get match_history(){return JSON.parse(this.preferences.getString("match_history","[]"))}set match_history(e){this.preferences.putString("match_history",JSON.stringify(e)),this.preferences.flush()}get smile(){return this.preferences.getString("smile","")}set smile(e){this.preferences.putString("smile",e),this.preferences.flush()}get shirt(){return this.preferences.getString("shirt","")}set shirt(e){this.preferences.putString("shirt",e),this.preferences.flush()}get frame(){return this.preferences.getString("frame","")}set frame(e){this.preferences.putString("frame",e),this.preferences.flush()}}const h={"â™¥ï¸":"H","â™¦ï¸":"D","â™£ï¸":"C","â™ ï¸":"S"};function m(e,a){const t=["â™ ","â™£","â™¦","â™¥"],s=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],n=e=>e===a?1/0:t.indexOf(e),r=e=>s.indexOf(e);return e.sort(((e,a)=>{const t=e[0],s=a[0],c=e.slice(1),o=a.slice(1);return n(t)!==n(s)?n(t)-n(s):r(c)-r(o)}))}function d(e){const a={"â™ ":[],"â™£":[],"â™¦":[],"â™¥":[]};e.forEach((e=>{const t=e[0],s=e.slice(1);a[t].push(s)}));let t="";return Object.keys(a).forEach((e=>{a[e].length>0&&(t+=`${e}: ${a[e].join(" ")}\n`)})),t.trim()}const _=e=>{const a=new RegExp(Object.keys(h).join("|"),"g"),t=e.replace(a,(e=>h[e]));return g(t)},g=e=>e.slice(0,1),v=e=>e.slice(1),f=e=>{switch(e){case"A":return 14;case"K":return 13;case"Q":return 12;case"J":return 11;default:return parseInt(e,10)}},p=(e,a,t)=>{const s=v(e),n=_(e),r=v(a),c=_(a),o=f(s),i=f(r);return n===c?o>i:c!==_(t)&&n===_(t)};function b(e,a){const t=a.map((e=>e.slice(-1)));return e.filter((e=>t.includes(e.slice(-1))))}class w{discard_cards=[];enemy_known_cards=[[],[],[],[],[],[]];id;enemy_hand_cards=[];final_enemy_hand=!1;cards_on_table=[];cards_on_table_bito=[];cards_on_table_active=[];constructor(e){this.id=e}}let k;Java.perform((()=>{let e=new w(0);try{Java.choose("com.rstgames.durak.StartActivity",{onComplete(){},onMatch(e){if(null!=e)return void 0!==e.getPreferences?(k=new l(e),"stop"):void 0}})}catch{}const a=Java.use("com.badlogic.gdx.Gdx"),o=Java.use("com.rstgames.durak.StartActivity"),h=Java.use("com.rstgames.durak.StartActivity$b"),J=(Java.use("com.rstgames.net.f"),Java.use("com.rstgames.b")),$=(Java.use("com.badlogic.gdx.Screen"),Java.use("com.badlogic.gdx.Game")),S=(Java.use("com.badlogic.gdx.utils.ScreenUtils"),Java.use("com.badlogic.gdx.scenes.scene2d.Group"),Java.use("com.rstgames.uiscreens.q"),Java.use("com.badlogic.gdx.Graphics"),Java.use("com.rstgames.durak.screens.CreateGameScreen$k"),Java.use("com.badlogic.gdx.utils.viewport.ScreenViewport"),Java.use("com.badlogic.gdx.scenes.scene2d.Stage"),Java.use("com.rstgames.utils.a0"),Java.use("com.rstgames.AppController"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Label"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle"),Java.use("java.lang.String")),y=(Java.use("com.badlogic.gdx.graphics.Color"),Java.use("com.badlogic.gdx.graphics.g2d.BitmapFont"),Java.use("com.rstgames.durak.screens.c"),Java.use("android.graphics.Color"),Java.use("com.badlogic.gdx.scenes.scene2d.InputEvent")),T=Java.use("com.rstgames.durak.screens.c$e$a"),x=Java.use("com.rstgames.durak.screens.c"),E=Java.use("com.badlogic.gdx.utils.Logger"),C=Java.use("com.rstgames.durak.controllers.a"),B=Java.use("com.rstgames.utils.b0");Java.use("com.rstgames.utils.RSTAssetPosition");Java.use("com.rstgames.utils.RSTAssetPosition$ASSET_STATE");Java.use("com.rstgames.uiscreens.m"),Java.use("com.rstgames.utils.a0");const N=Java.use("com.badlogic.gdx.scenes.scene2d.utils.ClickListener"),L=(Java.use("com.rstgames.durak.screens.d"),Java.use("com.badlogic.gdx.graphics.Texture")),O=(Java.use("com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Image")),A=Java.use("com.rstgames.durak.screens.b"),P=(Java.use("com.rstgames.uiscreens.l"),Java.use("com.rstgames.durak.screens.a")),j=(Java.use("com.rstgames.durak.screens.b$x0"),Java.use("com.rstgames.durak.screens.c$e")),M=Java.use("com.rstgames.durak.screens.b$i"),G=Java.use("org.json.b"),V=Java.use("org.json.a"),H=Java.use("com.rstgames.durak.utils.a$c"),R=Java.use("com.rstgames.net.JsonIpServerConnector"),D=Java.use("com.rstgames.durak.screens.b$j"),I=Java.use("com.rstgames.durak.screens.b$o0$l"),W=Java.use("com.rstgames.durak.screens.b$o0$a"),z=(Java.use("com.rstgames.durak.screens.b$p0$a"),Java.use("com.rstgames.durak.screens.b$s0$a"),Java.use("com.rstgames.durak.screens.b$d0"),Java.use("com.rstgames.durak.screens.b$f0"),Java.use("com.rstgames.durak.controllers.GameController$GAME_STATE"),Java.use("com.rstgames.durak.utils.d")),K=Java.use("com.rstgames.durak.screens.b$o0"),Q=Java.use("com.rstgames.durak.screens.b$m0"),X=Java.use("com.rstgames.durak.screens.b$j0"),F=Java.use("com.rstgames.durak.screens.b$g1"),Y=Java.use("android.widget.Toast"),q=Java.use("com.rstgames.durak.utils.Card$CARD_VIEW_TYPE"),U=Java.use("com.rstgames.uiscreens.d");function Z(){this.show();const e=a.app.value,i=a.files.value,u=a.graphics.value,l=Java.cast(e.getApplicationListener(),J).a0.value,h=L.$new(i.internal("data/general_textures/achieves_and_assets/cheat_success/icon.png"),!0),m=O.$new(h);m.setPosition(10,u.getHeight()-m.getHeight()-10),m.setSize(m.getWidth()/1.5,m.getHeight()/1.5),m.addListener(Java.registerClass({name:"com.triggeroff.frida.FiltersOnClick",superClass:N,methods:{clicked:{returnType:"void",argumentTypes:["com.badlogic.gdx.scenes.scene2d.InputEvent","float","float"],implementation(e,i,u){Java.scheduleOnMainThread((()=>{const e=Java.cast(a.app.value,o),i=Java.cast(e.getApplicationListener(),J),u=i.getScreen().$className;if("com.rstgames.durak.screens.a"==u){const a=new s(e),t=new n(e,"","ÐÑƒÐ¶Ð½Ð°Ñ ÑÑ‚Ð°Ð²ÐºÐ°");a.setTitle("Ð¢Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº"),a.setView(t),a.setPositiveButton("ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",((e,a)=>{k.accurate_search=Number(t.getText())})),a.setNegativeButton("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ",((e,a)=>{k.accurate_search=0})),k.accurate_search>0&&t.setText(k.accurate_search.toString()),a.show()}else if("com.rstgames.durak.screens.c"==u){const a=new s(e);a.setTitle("ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð½Ð¾Ð²Ð¾Ð¹ Ð¸Ð³Ñ€Ðµ?"),k.connect_to_first_game?a.setMessage("(Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾)"):a.setMessage("(Ð’Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾)"),a.setPositiveButton("Ð”Ð°",((e,a)=>{k.connect_to_first_game=!0})),a.setNegativeButton("ÐÐµÑ‚",((e,a)=>{k.connect_to_first_game=!1})),a.show()}else if("com.rstgames.durak.screens.b"==u){const a=i._N.value,n=a._w.value,o=(a._x.value,n.j?.value??!1),u=new s(e),l=new r(e),h=new t(e,"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ ÐºÐ°Ñ€Ñ‚ (Ð—Ð°Ð¼ÐµÐ½ÑÐµÑ‚ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ)",k.watch_cards),m=new t(e,"ÐŸÐ¾Ð´ÑÐ²ÐµÑ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹",k.highlight),d=new c(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ: "),_=new t(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°Ñ‚ÑŒ Ð¸Ð³Ñ€Ñƒ",k.auto_ready),g=new t(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÐŸÐ°Ñ/Ð“Ð¾Ñ‚Ð¾Ð², ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ ÐºÐ°Ñ€Ñ‚",k.auto_done),v=new t(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹, ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ ÐºÐ°Ñ€Ñ‚",k.auto_take),f=new t(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð±Ð¸Ð²Ð°Ñ‚ÑŒÑÑ, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹",k.auto_beat);if(h.setCheckedChangeListener(((e,a)=>{k.watch_cards=a})),m.setCheckedChangeListener(((e,a)=>{k.highlight=a})),_.setCheckedChangeListener(((e,a)=>{k.auto_ready=a})),g.setCheckedChangeListener(((e,a)=>{k.auto_done=a})),v.setCheckedChangeListener(((e,a)=>{k.auto_take=a})),f.setCheckedChangeListener(((e,a)=>{k.auto_beat=a})),l.setOrientation("VERTICAL"),l.addViews([h,m,d,_,g,v]),o){const a=new c(e,"Ð¨ÑƒÐ»ÐµÑ€: "),s=new t(e,"ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾ ÑˆÑƒÐ»ÐµÑ€Ðµ",k.toast_cheater);s.setCheckedChangeListener(((e,a)=>{k.toast_cheater=a}));const n=new t(e,"ÐŸÐ¾Ð¼ÐµÑ‡Ð°Ñ‚ÑŒ ÑÐµÑ€Ñ‹Ð¼ Ð½ÐµÑ‡ÐµÑÑ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ",k.grey_card_cheater);n.setCheckedChangeListener(((e,a)=>{k.grey_card_cheater=a}));const r=new t(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð½Ð°Ð¶Ð¸Ð¼Ð°Ñ‚ÑŒ Ð½Ð° Ð½ÐµÑ‡ÐµÑÑ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ",k.autoclick_cheater);r.setCheckedChangeListener(((e,a)=>{k.autoclick_cheater=a})),l.addViews([a,s,n,r])}u.setTitle("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¼Ð°Ñ‚Ñ‡Ð°"),u.setView(l),u.setPositiveButton("OK",((e,a)=>{})),u.show()}else if("com.rstgames.uiscreens.d"==u){const a=new s(e),t=new r(e);t.setOrientation("VERTICAL");const o=new c(e,"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ id ÑÐºÐ¸Ð½Ð° Ð² Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ð»Ðµ Ð¸Ð»Ð¸ Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð·Ð°Ð¼ÐµÐ½ÑÑ‚ÑŒ.\nÐ’ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð²Ð¸Ð´Ð½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ð¼."),u=new n(e,k.smile,"smile_classic"),l=new n(e,k.shirt,"shirt_classic"),h=new n(e,k.frame,"frame_classic");t.addViews([o,u,l,h]),a.setTitle("Ð¡ÐºÐ¸Ð½Ñ‡ÐµÐ½Ð´Ð¶ÐµÑ€"),a.setView(t),a.setPositiveButton("OK",(()=>{const e=i._d.value;k.smile=u.getText(),k.shirt=l.getText(),k.frame=h.getText();const a=G.$new();a.N("v",k.frame),a.N("k","frame"),e.h("uu",a)})),a.show()}}))}}}}).$new()),l.addActor(m)}function ee(){const a=this.c.value._a.value,t=(this.a.value,this.b.value);e.enemy_known_cards[t].push(a._W.value[this.a.value]._c.value),this.run()}function ae(t,s){this.a(t,s);let n=s.H("c");const r=this._a.value,c=r._w.value.j.value,o=s.H("b"),i=r._x.value._i.value,u=a.app.value,l=r._W.value;let h=!1;c&&(e.cards_on_table.length>0?e.cards_on_table.forEach((e=>{v(e)==v(n)&&(h=!0)})):h=!0),""!=o&&(c&&(h=p(o,n,i)),n=o),!h&&c&&Java.scheduleOnMainThread((()=>{k.toast_cheater&&Y.makeText(u,S.$new("ÑˆÑƒÐ»ÐµÑ€"),Y.LENGTH_SHORT.value).show();const e=l[r.u(n)];k.grey_card_cheater&&e.d(q.c.value)}));const m=s.B("id");e.enemy_known_cards[m]=e.enemy_known_cards[m].filter((e=>e!==n))}function te(a){const t=a._W.value;e.cards_on_table=[];const s=[];null!=t&&t.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&s.push(a._c.value)})),e.cards_on_table_active=e.cards_on_table.filter((a=>!e.cards_on_table_bito.includes(a)));const n=a._a.value,r=a._w.value,c=a._x.value._i.value,o=r.z.value,i=r.p.value,u=G.$new(),l=V.$new(),h=r.k.value;if(k.highlight)if(9==i[o]){let a=[];(function(e,a,t){const s=[];for(const n of a)for(const a of e)p(a,n,t)&&(s.includes(a)||s.push(a));return s})(s.filter((e=>null!=e)),e.cards_on_table_active,c).forEach((e=>{l.x(e)})),h&&0==e.cards_on_table_bito.length&&(a=b(s.filter((e=>null!=e)),e.cards_on_table),a.forEach((e=>{l.x(e)}))),u.N("c",l)}else if(0==i[o]||1==i[o]&&e.cards_on_table.length>0){b(s.filter((e=>null!=e)),e.cards_on_table).forEach((e=>{l.x(e)})),u.N("c",l)}n.E().h("hl",u)}$.setScreen.implementation=function(e){void 0!==k&&(k.connect_to_first_game=!1),this.setScreen(e)},C.b.implementation=function(){let e=this.b();return k.accurate_search>0&&(e=k.accurate_search),e},C.e.implementation=function(){let e=this.e();return k.accurate_search>0&&(e=k.accurate_search),e},o.onCreate.implementation=function(e){k=new l(this),this.onCreate(e);const a=Java.retain(this);k.script_update.old<k.script_update.new&&Java.scheduleOnMainThread((()=>{Y.makeText(a,S.$new(`XDurak Script: ${k.script_update.old} => ${k.script_update.new}`),Y.LENGTH_SHORT.value).show()}))},o.p.implementation=function(e,a,t,s,n){"com.rstgames.durak.StartActivity$b"==e.$className&&(a="Ð¡Ð¿Ð¾ÑÐ¾Ð± Ð²Ñ…Ð¾Ð´Ð°:",s="Ð¢Ð¾ÐºÐµÐ½",t="Ð“ÑƒÐ³Ð»"),this.p(e,a,t,s,n)},h.b.implementation=function(){const e=this._a.value,a=new s(e),t=new n(e),r=e._a.value;t.setHint("Ð¢Ð¾ÐºÐµÐ½"),a.setTitle("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½"),a.setView(t),a.setPositiveButton("ÐžÐš",((a,s)=>{const n=t.getText();if(e.A(n),null!=r){const e=r._d?.value;null==e&&null==e||(e._w.value=n,e.u(!1))}})),a.show()},E.info.overload("java.lang.String").implementation=function(e){console.log(e),this.info(e)},Java.use("com.rstgames.utils.b0$a").clicked.implementation=function(e,t,n){this.clicked(e,t,n),Java.scheduleOnMainThread((()=>{const e=a.app.value,t=new s(e);t.setTitle("Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹");let n="";k.match_history.sort(((e,a)=>a.date-e.date)).forEach((e=>{let a=new Date(e.date);n+=`${u(a)} ${i(a)} ${e.value>0?"+"+e.value.toString():e.value}\n`})),t.setMessage(n),t.setPositiveButton("ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ",((e,a)=>{k.match_history=[]})),t.setNegativeButton("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",((e,a)=>{})),t.show()}))},P.show.implementation=Z,x.show.implementation=Z,A.show.implementation=Z,U.show.implementation=Z,j.a.implementation=function(e,a){if(this.a(e,a),k.connect_to_first_game){T.$new(this,a).clicked(y.$new(),0,0),k.connect_to_first_game=!1}},M.a.implementation=function(a,t){e=new w(t.g("id")),this.a(a,t)},Java.use("com.rstgames.durak.screens.b$i1").a.implementation=function(a,t){e=new w(e.id),this.a(a,t)},H.clicked.implementation=function(a,t,s){this.clicked(a,t,s);const n=this.a.value._a.value.E(),r=G.$new(),c=V.$new();e.discard_cards.forEach((e=>{c.x(e)})),r.N("c",c),n.h("discard",r)},R.o.implementation=function(e){"show_discard"!==e&&this.o(e)},D.a.implementation=function(e,a){a.L("dis",0),a.L("hl",0),this.a(e,a)},I.run.implementation=ee,W.run.implementation=ee,Java.use("com.rstgames.durak.screens.b$s0").a.implementation=ae,Java.use("com.rstgames.durak.screens.b$p0").a.implementation=ae,K.a.implementation=function(a,t){this.a(a,t),e.cards_on_table_bito=[]},z.g.implementation=function(a,t,s){""!=t&&"sw"!=a&&e.cards_on_table_bito.push(a,t);return this.g(a,t,s)},Q.a.implementation=function(a,t){this.a(a,t);const s=this._a.value;te(s);const n=s._W.value;e.cards_on_table=[];const r=[];null!=n&&n.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&r.push(a._c.value)})),e.cards_on_table_active=e.cards_on_table.filter((a=>!e.cards_on_table_bito.includes(a)));const c=s._a.value,o=s._w.value,i=(o.G.value,s._x.value._i.value),u=o.z.value,l=o.p.value,h=o.k.value;let m=[];if(9==l[u]){const a=function(e,a,t){const s=[];e.sort(((e,a)=>{const s=_(e)===t?1:0,n=_(a)===t?1:0,r=f(v(e)),c=f(v(a));return s!==n?n-s:r-c}));for(const n of a){let a=!1;for(let r=0;r<e.length;r++){const c=e[r];if(p(c,n,t)){s.push({orig:n,beat:c}),e.splice(r,1),a=!0;break}}if(!a)return[]}return s}(r,e.cards_on_table_active,i);console.log(JSON.stringify(a)),h&&0==e.cards_on_table_bito.length&&(m=b(r.filter((e=>null!=e)),e.cards_on_table)),0==a.length&&k.auto_take&&0==m.length&&c.E().o("take")}else if(0==l[u]||1==l[u]&&e.cards_on_table.length>0){if(0==b(r.filter((e=>null!=e)),e.cards_on_table).length&&k.auto_done)switch(l[u]){case 0:c.E().o("pass");break;case 1:c.E().o("done")}}},X.a.implementation=function(e){console.log(`j0.a is called: i=${e}`),this.a(e)},X.b.implementation=function(e){this.b(e),te(this.i.value)},A.Q.implementation=function(){const t=k.shirt;""!=t&&(this.C0.value=t),this.Q();const n=this._w?.value,r=this._x?.value;this._a?.value;if(null==r||null==n)return;r.o?.value&&(e.discard_cards=r.o?.value);const c=this._W.value,o=r._g.value.length,i=r._i.value,u=r?._j.value;e.cards_on_table=[];const l=[];if(null!=c&&c.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&l.push(a._c.value)})),Number(u)==Number(0)&&""!=i&&Number(o)==Number(2)){const t=[];c.forEach((e=>{t.push(e._c.value)}));const n=[...e.discard_cards,...l,...e.cards_on_table,"sw"],r=t.filter((e=>!n.includes(e)));e.enemy_hand_cards=r,e.final_enemy_hand||(e.final_enemy_hand=!0,Java.scheduleOnMainThread((()=>{const t=a.app.value,n=new s(t);n.setTitle("ÐšÐ°Ñ€Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¸ÐºÐ°: "),n.setMessage(d(m(e.enemy_hand_cards,g(i)))),n.show()})))}},F.a.implementation=function(e,a){this.a(e,a);const t=this._a.value._w.value;if(a.B("id")==t.z.value){const e=k.match_history;e.push({date:Date.now(),value:a.B("value")}),k.match_history=e}},Java.use("com.rstgames.durak.screens.b$k0").$init.implementation=function(e,a,t){this.$init(e,a,t);const s=Java.retain(this);k.autoclick_cheater&&setTimeout((()=>{Java.perform((()=>{s.clicked(y.$new(),0,0)}))}),100)};let se=Java.use("com.rstgames.durak.utils.RSTGamePlace$a"),ne=Java.use("com.rstgames.durak.utils.RSTGamePlace$PLACE_TYPE");se.clicked.implementation=function(t,n,r){const c=this.a.value,o=c._a.value._N.value,i=(o._w.value.z.value,c.H.value),u=a.app.value,l=o._x.value,h=o._W.value;e.cards_on_table=[];const _=[];null!=h&&h.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&_.push(a._c.value)}));const v=l._i.value,f=c.G.value;k.watch_cards&&f.toString()==ne.c.value.toString()?Java.scheduleOnMainThread((()=>{const a=new s(u);a.setTitle("ÐšÐ°Ñ€Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¸ÐºÐ°");let t=[...e.discard_cards,..._,...e.cards_on_table,"sw"];e.enemy_known_cards.forEach((e=>{t=[...t,...e]}));const n=o._W.value,r=[];n.forEach((e=>{r.push(e._c.value)}));const c=r.filter((e=>!t.includes(e)));a.setMessage(0==e.enemy_hand_cards.length?"Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹:\n"+d(m(e.enemy_known_cards[i],g(v)))+"\nÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹:\n"+d(m(c,g(v))):d(m(e.enemy_hand_cards,g(v)))),a.show()})):this.clicked(t,n,r)},Java.use("com.rstgames.durak.screens.b$y").a.implementation=function(e,a){this.a(e,a);const t=this._a.value._a.value;k.auto_ready&&t.E().o("ready")},A.V.implementation=function(){const e=this._a.value.E();""!=k.smile&&(e.P.value=k.smile),this.V()},Java.use("com.rstgames.durak.screens.b$r").a.implementation=function(e,a){const t=k.smile;a.B("p")==this._a.value._w.value.z.value&&""!=t&&a.N("a",t),this.a(e,a)},B.n.implementation=function(e){console.log(`b0.n is called: str=${e}`);const a=k.frame;""!=a&&(e=a),this.n(e)},Java.use("com.rstgames.durak.utils.RSTGamePlace").h.implementation=function(e,a,t,s,n,r,c,o,i,u){const l=k.frame,h=this._a.value._d.value.c0.value;n.valueOf()==h.valueOf()&&""!=l&&(t=l),this.h(e,a,t,s,n,r,c,o,i,u)},Java.use("com.rstgames.durak.screens.b$l").a.implementation=function(e,a){const t=k.shirt,s=a.E("shirt");""!=t&&s.N("id",t),s.L("lvl",1),a.N("shirt",s),this.a(e,a)}}));
âœ„
const e=Java.use("java.lang.String");Java.use("android.text.Html");const t=function(e=0){let t=e;return()=>t++}();export class Color{static Color=Java.use("android.graphics.Color");static parseColor(e){return this.Color.parseColor(e)}}export class View{element;static jClass=Java.use("android.view.View");constructor(e){this.element=this.createElement(e)}View$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnClickListener$${t()}`,implements:[Java.use("android.view.View$OnClickListener")],methods:{onClick:e}}).$new()}View$OnLongClickListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnLongClickListener$${t()}`,implements:[Java.use("android.view.View$OnLongClickListener")],methods:{onLongClick:function(t){return e(t),!0}}}).$new()}View$OnTouchListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnTouchListener$${t()}`,implements:[Java.use("android.view.View$OnTouchListener")],methods:{onTouch:(t,s)=>(e(t,s),!0)}}).$new()}setClickListener(e,t){t?this.element.setOnClickListener(this.View$OnClickListener(e)):this.element.addEventListener(this.View$OnClickListener(e))}setLongClickListener(e,t){t?this.element.setOnLongClickListener(this.View$OnLongClickListener(e)):this.element.addEventListener(this.View$OnLongClickListener(e))}setTouchListener(e,t){t?this.element.setOnTouchListener(this.View$OnTouchListener(e)):this.element.addEventListener(this.View$OnTouchListener(e))}setEnabled(e){this.element.setEnabled(e)}setVisibility(e){this.element.setVisibility(View.jClass[e].value)}setBackgroundColor(e){"string"==typeof e&&(e=Color.parseColor(e)),this.element.setBackgroundColor(e)}setLayoutParams(e){e instanceof LayoutParams?this.element.setLayoutParams(e.element):this.element.setLayoutParams(e)}getLayoutParams(){return new LayoutParams(Java.cast(this.element.getLayoutParams(),LayoutParams.jClass))}}export class TextView extends View{static jClass=Java.use("android.widget.TextView");createElement(e){return TextView.jClass.$new(e)}constructor(e,t){super(e),t&&this.setText(t)}getText(){return Java.cast(this.element.getText(),Java.use("java.lang.CharSequence")).toString()}getTextSize(){return this.element.getTextSize()}setText(t){this.element.setText(e.$new(t))}setHint(t){this.element.setHint(e.$new(t))}setTextSize(e){this.element.setTextSize(e)}setTextColor(e){"string"==typeof e&&(e=Color.parseColor(e)),this.element.setTextColor(e)}}export class EditText extends TextView{BufferType=Java.use("android.widget.TextView$BufferType");static jClass=Java.use("android.widget.EditText");createElement(e){return EditText.jClass.$new(e)}constructor(e,t,s){super(e),s&&this.setHint(s),t&&this.setText(t,"NORMAL")}setText(t,s="EDITABLE"){this.element.setText(e.$new(t),this.BufferType[s].value)}}export class LinearLayout extends View{LinearLayout=Java.use("android.widget.LinearLayout");static jClass=Java.use("android.widget.LinearLayout");createElement(e){return LinearLayout.jClass.$new(e)}setOrientation(e){this.element.setOrientation(this.LinearLayout[e].value)}addView(e){e instanceof View?this.element.addView(e.element):this.element.addView(e)}addViews(e){e.forEach((e=>{this.addView(e)}))}}export class CheckBox extends TextView{static jClass=Java.use("android.widget.CheckBox");CompoundButton$OnCheckedChangeListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnCheckedChangeListener$${t()}`,implements:[Java.use("android.widget.CompoundButton$OnCheckedChangeListener")],methods:{onCheckedChanged:e}}).$new()}createElement(e){return CheckBox.jClass.$new(e)}constructor(e,t,s){super(e,t),s&&this.setChecked(s)}setCheckedChangeListener(e){this.element.setOnCheckedChangeListener(this.CompoundButton$OnCheckedChangeListener(e))}isChecked(){return this.element.isChecked()}setChecked(e){this.element.setChecked(e)}}export class Dialog{element;static jClass=Java.use("android.app.Dialog");constructor(e){this.element=e}dismiss(){this.element.dismiss()}cancel(){this.element.cancel()}hide(){this.element.hide()}setCancelable(e){this.element.setCancelable(e)}setTitle(t){this.element.setTitle(e.$new(t))}isShowing(){return this.element.isShowing()}show(){this.element.show()}}export class AlertDialog extends Dialog{DialogInterface$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnClickListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnClickListener")],methods:{onClick:e}}).$new()}setButton(t,s,n){this.element.setButton(Dialog.jClass[t].value,e.$new(s),this.DialogInterface$OnClickListener(n))}setMessage(t){this.element.setMessage(e.$new(t))}setView(e){e instanceof View?this.element.setView(e.element):this.element.setView(e)}}export class DialogBuilder{static jClass=Java.use("android.app.AlertDialog$Builder");DialogInterface$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnClickListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnClickListener")],methods:{onClick:e}}).$new()}DialogInterface$OnCancelListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnCancelListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnCancelListener")],methods:{onCancel:e}}).$new()}DialogInterface$OnDismissListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnDismissListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnDismissListener")],methods:{onDismiss:e}}).$new()}dialogInstance;constructor(e){this.dialogInstance=DialogBuilder.jClass.$new(e)}setTitle(t){this.dialogInstance.setTitle(e.$new(t))}setMessage(t){this.dialogInstance.setMessage(e.$new(t))}setCancelable(e){this.dialogInstance.setCancelable(e)}setPositiveButton(t,s){this.dialogInstance.setPositiveButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setNegativeButton(t,s){this.dialogInstance.setNegativeButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setNeutralButton(t,s){this.dialogInstance.setNeutralButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setCancelListener(e){this.dialogInstance.setOnCancelListener(this.DialogInterface$OnCancelListener(e))}setDismissListener(e){this.dialogInstance.setOnDismissListener(this.DialogInterface$OnDismissListener(e))}setView(e){e instanceof View?this.dialogInstance.setView(e.element):this.dialogInstance.setView(e)}show(){let e=this.dialogInstance.show();return e=Java.cast(e,AlertDialog.jClass),new AlertDialog(e)}create(){let e=this.dialogInstance.create();return e=Java.cast(e,AlertDialog.jClass),new AlertDialog(e)}}export class SharedPreferencesEditor{static jClass=Java.use("android.content.SharedPreferences$Editor");element;constructor(e){this.element=e}apply(){this.element.apply()}clear(){this.element.clear()}commit(){return this.element.commit()}putBoolean(e,t){this.element.putBoolean(e,t)}putFloat(e,t){this.element.putFloat(e,t)}putInt(e,t){this.element.putInt(e,0|t)}putLong(e,t){this.element.putLong(e,t)}putString(e,t){this.element.putString(e,t)}remove(e){this.element.remove(e)}}export class SharedPreferences{static jClass=Java.use("android.content.SharedPreferences");element;constructor(e){this.element=e}contains(e){return this.element.contains(e)}edit(){return new SharedPreferencesEditor(this.element.edit())}getBoolean(e,t){return this.element.getBoolean(e,t)}getFloat(e,t){return this.element.getFloat(e,t)}getInt(e,t){return this.element.getInt(e,0|t)}getLong(e,t){return this.element.getLong(e,t)}getString(e,t){return this.element.getString(e,t)}}export class LayoutParams{static jClass=Java.use("android.view.ViewGroup$LayoutParams");element;constructor(e){this.element=e||LayoutParams.jClass.$new()}set width(e){this.element.width.value="string"!=typeof e?e:LayoutParams.jClass[e].value}set height(e){this.element.height.value="string"!=typeof e?e:LayoutParams.jClass[e].value}}
âœ„
export class Preferences{instance;constructor(t){this.instance=t}clear(){this.instance.clear()}contains(t){return this.instance.contains(t)}flush(){this.instance.flush()}getBoolean(t,n){return void 0!==n?this.instance.getBoolean(t,n):this.instance.getBoolean(t)}getFloat(t,n){return void 0!==n?this.instance.getFloat(t,n):this.instance.getFloat(t)}getInteger(t,n){return void 0!==n?this.instance.getInteger(t,n):this.instance.getInteger(t)}getLong(t,n){return void 0!==n?this.instance.getLong(t,n):this.instance.getLong(t)}getString(t,n){return void 0!==n?this.instance.getString(t,n):this.instance.getString(t)}putBoolean(t,n){return this.instance.putBoolean(t,n)}putFloat(t,n){return this.instance.putFloat(t,n)}putInteger(t,n){return this.instance.putInteger(t,n)}putLong(t,n){return this.instance.putLong(t,n)}putString(t,n){return this.instance.putString(t,n)}remove(t){this.instance.remove(t)}}
âœ„
export default class t{static VERSION="3"}