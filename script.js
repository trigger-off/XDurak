ðŸ“¦
19292 /src/main.js
7738 /src/AndroidBasic.js
900 /src/GDX.js
âœ„
const e=new Date;import{CheckBox as a,DialogBuilder as t,EditText as s,LinearLayout as n,TextView as c}from"./AndroidBasic.js";import{Preferences as r}from"./GDX.js";function o(e){return(e.getHours()<10?"0":"")+e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()+":"+(e.getSeconds()<10?"0":"")+e.getSeconds()}function i(e){return(e.getDate()<10?"0":"")+e.getDate()+"/"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"/"+e.getFullYear()}console.warn("work, runtime: ",i(e),o(e));class u{preferences;constructor(e){this.preferences=new r(e)}accurate_search=0;connect_to_first_game=!1;get auto_beat(){return this.preferences.getBoolean("auto_beat",!1)}set auto_beat(e){this.preferences.putBoolean("auto_beat",e),this.preferences.flush()}get auto_take(){return this.preferences.getBoolean("auto_take",!1)}set auto_take(e){this.preferences.putBoolean("auto_take",e),this.preferences.flush()}get auto_done(){return this.preferences.getBoolean("auto_done",!1)}set auto_done(e){this.preferences.putBoolean("auto_done",e),this.preferences.flush()}get watch_cards(){return this.preferences.getBoolean("watch_cards",!1)}set watch_cards(e){this.preferences.putBoolean("watch_cards",e),this.preferences.flush()}get auto_ready(){return this.preferences.getBoolean("auto_ready",!1)}set auto_ready(e){this.preferences.putBoolean("auto_ready",e),this.preferences.flush()}get highlight(){return this.preferences.getBoolean("highlight",!0)}set highlight(e){this.preferences.putBoolean("highlight",e),this.preferences.flush()}get toast_cheater(){return this.preferences.getBoolean("toast_cheater",!0)}set toast_cheater(e){this.preferences.putBoolean("toast_cheater",e),this.preferences.flush()}get grey_card_cheater(){return this.preferences.getBoolean("grey_card_cheater",!0)}set grey_card_cheater(e){this.preferences.putBoolean("grey_card_cheater",e),this.preferences.flush()}get autoclick_cheater(){return this.preferences.getBoolean("autoclick_cheater",!1)}set autoclick_cheater(e){this.preferences.putBoolean("autoclick_cheater",e),this.preferences.flush()}get match_history(){return JSON.parse(this.preferences.getString("match_history","[]"))}set match_history(e){this.preferences.putString("match_history",JSON.stringify(e)),this.preferences.flush()}get smile(){return this.preferences.getString("smile","")}set smile(e){this.preferences.putString("smile",e),this.preferences.flush()}get shirt(){return this.preferences.getString("shirt","")}set shirt(e){this.preferences.putString("shirt",e),this.preferences.flush()}get frame(){return this.preferences.getString("frame","")}set frame(e){this.preferences.putString("frame",e),this.preferences.flush()}}const l={"â™¥ï¸":"H","â™¦ï¸":"D","â™£ï¸":"C","â™ ï¸":"S"};function h(e,a){const t=["â™ ","â™£","â™¦","â™¥"],s=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],n=e=>e===a?1/0:t.indexOf(e),c=e=>s.indexOf(e);return e.sort(((e,a)=>{const t=e[0],s=a[0],r=e.slice(1),o=a.slice(1);return n(t)!==n(s)?n(t)-n(s):c(r)-c(o)}))}function m(e){const a={"â™ ":[],"â™£":[],"â™¦":[],"â™¥":[]};e.forEach((e=>{const t=e[0],s=e.slice(1);a[t].push(s)}));let t="";return Object.keys(a).forEach((e=>{a[e].length>0&&(t+=`${e}: ${a[e].join(" ")}\n`)})),t.trim()}const _=e=>{const a=new RegExp(Object.keys(l).join("|"),"g"),t=e.replace(a,(e=>l[e]));return d(t)},d=e=>e.slice(0,1),g=e=>e.slice(1),v=e=>{switch(e){case"A":return 14;case"K":return 13;case"Q":return 12;case"J":return 11;default:return parseInt(e,10)}},f=(e,a,t)=>{const s=g(e),n=_(e),c=g(a),r=_(a),o=v(s),i=v(c);return n===r?o>i:r!==_(t)&&n===_(t)};function p(e,a){const t=a.map((e=>e.slice(-1)));return e.filter((e=>t.includes(e.slice(-1))))}class b{discard_cards=[];enemy_known_cards=[[],[],[],[],[],[]];id;enemy_hand_cards=[];final_enemy_hand=!1;cards_on_table=[];cards_on_table_bito=[];cards_on_table_active=[];constructor(e){this.id=e}}let w;Java.perform((()=>{let e=new b(0);try{Java.choose("com.rstgames.durak.StartActivity",{onComplete(){},onMatch(e){if(null!=e)return void 0!==e.getPreferences?(w=new u(e.getPreferences("XDurak")),"stop"):void 0}})}catch{}const r=Java.use("com.badlogic.gdx.Gdx"),l=Java.use("com.rstgames.durak.StartActivity"),k=Java.use("com.rstgames.durak.StartActivity$b"),J=(Java.use("com.rstgames.net.f"),Java.use("com.rstgames.b")),$=(Java.use("com.badlogic.gdx.Screen"),Java.use("com.badlogic.gdx.Game")),y=(Java.use("com.badlogic.gdx.utils.ScreenUtils"),Java.use("com.badlogic.gdx.scenes.scene2d.Group"),Java.use("com.rstgames.uiscreens.q"),Java.use("com.badlogic.gdx.Graphics"),Java.use("com.rstgames.durak.screens.CreateGameScreen$k"),Java.use("com.badlogic.gdx.utils.viewport.ScreenViewport"),Java.use("com.badlogic.gdx.scenes.scene2d.Stage"),Java.use("com.rstgames.utils.a0"),Java.use("com.rstgames.AppController"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Label"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle"),Java.use("java.lang.String")),S=(Java.use("com.badlogic.gdx.graphics.Color"),Java.use("com.badlogic.gdx.graphics.g2d.BitmapFont"),Java.use("com.rstgames.durak.screens.c"),Java.use("android.graphics.Color"),Java.use("com.badlogic.gdx.scenes.scene2d.InputEvent")),x=Java.use("com.rstgames.durak.screens.c$e$a"),T=Java.use("com.rstgames.durak.screens.c"),C=Java.use("com.badlogic.gdx.utils.Logger"),E=Java.use("com.rstgames.durak.controllers.a"),B=Java.use("com.rstgames.utils.b0");Java.use("com.rstgames.utils.RSTAssetPosition");Java.use("com.rstgames.utils.RSTAssetPosition$ASSET_STATE");Java.use("com.rstgames.uiscreens.m"),Java.use("com.rstgames.utils.a0");const L=Java.use("com.badlogic.gdx.scenes.scene2d.utils.ClickListener"),N=(Java.use("com.rstgames.durak.screens.d"),Java.use("com.badlogic.gdx.graphics.Texture")),A=(Java.use("com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable"),Java.use("com.badlogic.gdx.scenes.scene2d.ui.Image")),O=Java.use("com.rstgames.durak.screens.b"),P=(Java.use("com.rstgames.uiscreens.l"),Java.use("com.rstgames.durak.screens.a")),j=(Java.use("com.rstgames.durak.screens.b$x0"),Java.use("com.rstgames.durak.screens.c$e")),M=Java.use("com.rstgames.durak.screens.b$i"),G=Java.use("org.json.b"),V=Java.use("org.json.a"),H=Java.use("com.rstgames.durak.utils.a$c"),D=Java.use("com.rstgames.net.JsonIpServerConnector"),R=Java.use("com.rstgames.durak.screens.b$j"),W=Java.use("com.rstgames.durak.screens.b$o0$l"),I=Java.use("com.rstgames.durak.screens.b$o0$a"),z=(Java.use("com.rstgames.durak.screens.b$p0$a"),Java.use("com.rstgames.durak.screens.b$s0$a"),Java.use("com.rstgames.durak.screens.b$d0"),Java.use("com.rstgames.durak.screens.b$f0"),Java.use("com.rstgames.durak.controllers.GameController$GAME_STATE"),Java.use("com.rstgames.durak.utils.d")),K=Java.use("com.rstgames.durak.screens.b$o0"),Q=Java.use("com.rstgames.durak.screens.b$m0"),F=Java.use("com.rstgames.durak.screens.b$j0"),X=Java.use("com.rstgames.durak.screens.b$g1"),Y=Java.use("android.widget.Toast"),q=Java.use("com.rstgames.durak.utils.Card$CARD_VIEW_TYPE"),U=Java.use("com.rstgames.uiscreens.d");function Z(){this.show();const e=r.app.value,o=r.files.value,i=r.graphics.value,u=Java.cast(e.getApplicationListener(),J).a0.value,h=N.$new(o.internal("data/general_textures/achieves_and_assets/cheat_success/icon.png"),!0),m=A.$new(h);m.setPosition(10,i.getHeight()-m.getHeight()-10),m.setSize(m.getWidth()/1.5,m.getHeight()/1.5),m.addListener(Java.registerClass({name:"com.triggeroff.frida.FiltersOnClick",superClass:L,methods:{clicked:{returnType:"void",argumentTypes:["com.badlogic.gdx.scenes.scene2d.InputEvent","float","float"],implementation(e,o,i){Java.scheduleOnMainThread((()=>{const e=Java.cast(r.app.value,l),o=Java.cast(e.getApplicationListener(),J),i=o.getScreen().$className;if("com.rstgames.durak.screens.a"==i){const a=new t(e),n=new s(e,"","ÐÑƒÐ¶Ð½Ð°Ñ ÑÑ‚Ð°Ð²ÐºÐ°");a.setTitle("Ð¢Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº"),a.setView(n),a.setPositiveButton("ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",((e,a)=>{w.accurate_search=Number(n.getText())})),a.setNegativeButton("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ",((e,a)=>{w.accurate_search=0})),w.accurate_search>0&&n.setText(w.accurate_search.toString()),a.show()}else if("com.rstgames.durak.screens.c"==i){const a=new t(e);a.setTitle("ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð½Ð¾Ð²Ð¾Ð¹ Ð¸Ð³Ñ€Ðµ?"),w.connect_to_first_game?a.setMessage("(Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾)"):a.setMessage("(Ð’Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾)"),a.setPositiveButton("Ð”Ð°",((e,a)=>{w.connect_to_first_game=!0})),a.setNegativeButton("ÐÐµÑ‚",((e,a)=>{w.connect_to_first_game=!1})),a.show()}else if("com.rstgames.durak.screens.b"==i){const s=o._N.value,r=s._w.value,i=(s._x.value,r.j?.value??!1),u=new t(e),l=new n(e),h=new a(e,"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ ÐºÐ°Ñ€Ñ‚ (Ð—Ð°Ð¼ÐµÐ½ÑÐµÑ‚ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ)",w.watch_cards),m=new a(e,"ÐŸÐ¾Ð´ÑÐ²ÐµÑ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹",w.highlight),_=new c(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ: "),d=new a(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°Ñ‚ÑŒ Ð¸Ð³Ñ€Ñƒ",w.auto_ready),g=new a(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÐŸÐ°Ñ/Ð“Ð¾Ñ‚Ð¾Ð², ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ ÐºÐ°Ñ€Ñ‚",w.auto_done),v=new a(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹, ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ ÐºÐ°Ñ€Ñ‚",w.auto_take),f=new a(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð±Ð¸Ð²Ð°Ñ‚ÑŒÑÑ, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹",w.auto_beat);if(h.setCheckedChangeListener(((e,a)=>{w.watch_cards=a})),m.setCheckedChangeListener(((e,a)=>{w.highlight=a})),d.setCheckedChangeListener(((e,a)=>{w.auto_ready=a})),g.setCheckedChangeListener(((e,a)=>{w.auto_done=a})),v.setCheckedChangeListener(((e,a)=>{w.auto_take=a})),f.setCheckedChangeListener(((e,a)=>{w.auto_beat=a})),l.setOrientation("VERTICAL"),l.addViews([h,m,_,d,g,v]),i){const t=new c(e,"Ð¨ÑƒÐ»ÐµÑ€: "),s=new a(e,"ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾ ÑˆÑƒÐ»ÐµÑ€Ðµ",w.toast_cheater);s.setCheckedChangeListener(((e,a)=>{w.toast_cheater=a}));const n=new a(e,"ÐŸÐ¾Ð¼ÐµÑ‡Ð°Ñ‚ÑŒ ÑÐµÑ€Ñ‹Ð¼ Ð½ÐµÑ‡ÐµÑÑ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ",w.grey_card_cheater);n.setCheckedChangeListener(((e,a)=>{w.grey_card_cheater=a}));const r=new a(e,"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð½Ð°Ð¶Ð¸Ð¼Ð°Ñ‚ÑŒ Ð½Ð° Ð½ÐµÑ‡ÐµÑÑ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ",w.autoclick_cheater);r.setCheckedChangeListener(((e,a)=>{w.autoclick_cheater=a})),l.addViews([t,s,n,r])}u.setTitle("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¼Ð°Ñ‚Ñ‡Ð°"),u.setView(l),u.setPositiveButton("OK",((e,a)=>{})),u.show()}else if("com.rstgames.uiscreens.d"==i){const a=new t(e),r=new n(e);r.setOrientation("VERTICAL");const i=new c(e,"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ id ÑÐºÐ¸Ð½Ð° Ð² Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ð»Ðµ Ð¸Ð»Ð¸ Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð·Ð°Ð¼ÐµÐ½ÑÑ‚ÑŒ.\nÐ’ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð²Ð¸Ð´Ð½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ð¼."),u=new s(e,w.smile,"smile_classic"),l=new s(e,w.shirt,"shirt_classic"),h=new s(e,w.frame,"frame_classic");r.addViews([i,u,l,h]),a.setTitle("Ð¡ÐºÐ¸Ð½Ñ‡ÐµÐ½Ð´Ð¶ÐµÑ€"),a.setView(r),a.setPositiveButton("OK",(()=>{const e=o._d.value;w.smile=u.getText(),w.shirt=l.getText(),w.frame=h.getText();const a=G.$new();a.N("v",w.frame),a.N("k","frame"),e.h("uu",a)})),a.show()}}))}}}}).$new()),u.addActor(m)}function ee(){const a=this.c.value._a.value,t=(this.a.value,this.b.value);e.enemy_known_cards[t].push(a._W.value[this.a.value]._c.value),this.run()}function ae(a,t){this.a(a,t);let s=t.H("c");const n=this._a.value,c=n._w.value.j.value,o=t.H("b"),i=n._x.value._i.value,u=r.app.value,l=n._W.value;let h=!1;c&&(e.cards_on_table.length>0?e.cards_on_table.forEach((e=>{g(e)==g(s)&&(h=!0)})):h=!0),""!=o&&(c&&(h=f(o,s,i)),s=o),!h&&c&&Java.scheduleOnMainThread((()=>{w.toast_cheater&&Y.makeText(u,y.$new("ÑˆÑƒÐ»ÐµÑ€"),Y.LENGTH_SHORT.value).show();const e=l[n.u(s)];w.grey_card_cheater&&e.d(q.c.value)}));const m=t.B("id");e.enemy_known_cards[m]=e.enemy_known_cards[m].filter((e=>e!==s))}function te(a){const t=a._W.value;e.cards_on_table=[];const s=[];null!=t&&t.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&s.push(a._c.value)})),e.cards_on_table_active=e.cards_on_table.filter((a=>!e.cards_on_table_bito.includes(a)));const n=a._a.value,c=a._w.value,r=a._x.value._i.value,o=c.z.value,i=c.p.value,u=G.$new(),l=V.$new(),h=c.k.value;if(w.highlight)if(9==i[o]){let a=[];(function(e,a,t){const s=[];for(const n of a)for(const a of e)f(a,n,t)&&(s.includes(a)||s.push(a));return s})(s.filter((e=>null!=e)),e.cards_on_table_active,r).forEach((e=>{l.x(e)})),h&&0==e.cards_on_table_bito.length&&(a=p(s.filter((e=>null!=e)),e.cards_on_table),a.forEach((e=>{l.x(e)}))),u.N("c",l)}else if(0==i[o]||1==i[o]&&e.cards_on_table.length>0){p(s.filter((e=>null!=e)),e.cards_on_table).forEach((e=>{l.x(e)})),u.N("c",l)}n.E().h("hl",u)}$.setScreen.implementation=function(e){void 0!==w&&(w.connect_to_first_game=!1),this.setScreen(e)},E.b.implementation=function(){let e=this.b();return w.accurate_search>0&&(e=w.accurate_search),e},E.e.implementation=function(){let e=this.e();return w.accurate_search>0&&(e=w.accurate_search),e},l.onCreate.implementation=function(e){w=new u(this.getPreferences("XDurak")),this.onCreate(e)},l.p.implementation=function(e,a,t,s,n){"com.rstgames.durak.StartActivity$b"==e.$className&&(a="Ð¡Ð¿Ð¾ÑÐ¾Ð± Ð²Ñ…Ð¾Ð´Ð°:",s="Ð¢Ð¾ÐºÐµÐ½",t="Ð“ÑƒÐ³Ð»"),this.p(e,a,t,s,n)},k.b.implementation=function(){const e=this._a.value,a=new t(e),n=new s(e),c=e._a.value;n.setHint("Ð¢Ð¾ÐºÐµÐ½"),a.setTitle("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½"),a.setView(n),a.setPositiveButton("ÐžÐš",((a,t)=>{const s=n.getText();if(e.A(s),null!=c){const e=c._d?.value;null==e&&null==e||(e._w.value=s,e.u(!1))}})),a.show()},C.info.overload("java.lang.String").implementation=function(e){this.info(e)},Java.use("com.rstgames.utils.b0$a").clicked.implementation=function(e,a,s){this.clicked(e,a,s),Java.scheduleOnMainThread((()=>{const e=r.app.value,a=new t(e);a.setTitle("Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹");let s="";w.match_history.sort(((e,a)=>a.date-e.date)).forEach((e=>{let a=new Date(e.date);s+=`${i(a)} ${o(a)} ${e.value>0?"+"+e.value.toString():e.value}\n`})),a.setMessage(s),a.setPositiveButton("ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ",((e,a)=>{w.match_history=[]})),a.setNegativeButton("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",((e,a)=>{})),a.show()}))},P.show.implementation=Z,T.show.implementation=Z,O.show.implementation=Z,U.show.implementation=Z,j.a.implementation=function(e,a){if(this.a(e,a),w.connect_to_first_game){x.$new(this,a).clicked(S.$new(),0,0),w.connect_to_first_game=!1}},M.a.implementation=function(a,t){e=new b(t.g("id")),this.a(a,t)},H.clicked.implementation=function(a,t,s){this.clicked(a,t,s);const n=this.a.value._a.value.E(),c=G.$new(),r=V.$new();e.discard_cards.forEach((e=>{r.x(e)})),c.N("c",r),n.h("discard",c)},D.o.implementation=function(e){"show_discard"!==e&&this.o(e)},R.a.implementation=function(e,a){a.L("dis",0),a.L("hl",0),this.a(e,a)},W.run.implementation=ee,I.run.implementation=ee,Java.use("com.rstgames.durak.screens.b$s0").a.implementation=ae,Java.use("com.rstgames.durak.screens.b$p0").a.implementation=ae,K.a.implementation=function(a,t){this.a(a,t),e.cards_on_table_bito=[]},z.g.implementation=function(a,t,s){""!=t&&"sw"!=a&&e.cards_on_table_bito.push(a,t);return this.g(a,t,s)},Q.a.implementation=function(a,t){this.a(a,t);const s=this._a.value;te(s);const n=s._W.value;e.cards_on_table=[];const c=[];null!=n&&n.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&c.push(a._c.value)})),e.cards_on_table_active=e.cards_on_table.filter((a=>!e.cards_on_table_bito.includes(a)));const r=s._a.value,o=s._w.value,i=(o.G.value,s._x.value._i.value),u=o.z.value,l=o.p.value,h=o.k.value;let m=[];if(9==l[u]){const a=function(e,a,t){const s=[];e.sort(((e,a)=>{const s=_(e)===t?1:0,n=_(a)===t?1:0,c=v(g(e)),r=v(g(a));return s!==n?n-s:c-r}));for(const n of a){let a=!1;for(let c=0;c<e.length;c++){const r=e[c];if(f(r,n,t)){s.push({orig:n,beat:r}),e.splice(c,1),a=!0;break}}if(!a)return[]}return s}(c,e.cards_on_table_active,i);console.log(JSON.stringify(a)),h&&0==e.cards_on_table_bito.length&&(m=p(c.filter((e=>null!=e)),e.cards_on_table)),0==a.length&&w.auto_take&&0==m.length&&r.E().o("take")}else if(0==l[u]||1==l[u]&&e.cards_on_table.length>0){if(0==p(c.filter((e=>null!=e)),e.cards_on_table).length&&w.auto_done)switch(l[u]){case 0:r.E().o("pass");break;case 1:r.E().o("done")}}},F.a.implementation=function(e){console.log(`j0.a is called: i=${e}`),this.a(e)},F.b.implementation=function(e){this.b(e),te(this.i.value)},O.Q.implementation=function(){const a=w.shirt;""!=a&&(this.C0.value=a),this.Q();const s=this._w?.value,n=this._x?.value;this._a?.value;if(null==n||null==s)return;n.o?.value&&(e.discard_cards=n.o?.value);const c=this._W.value,o=n._g.value.length,i=n._i.value,u=n?._j.value;e.cards_on_table=[];const l=[];if(null!=c&&c.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&l.push(a._c.value)})),Number(u)==Number(0)&&""!=i&&Number(o)==Number(2)){const a=[];c.forEach((e=>{a.push(e._c.value)}));const s=[...e.discard_cards,...l,...e.cards_on_table,"sw"],n=a.filter((e=>!s.includes(e)));e.enemy_hand_cards=n,e.final_enemy_hand||(e.final_enemy_hand=!0,Java.scheduleOnMainThread((()=>{const a=r.app.value,s=new t(a);s.setTitle("ÐšÐ°Ñ€Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¸ÐºÐ°: "),s.setMessage(m(h(e.enemy_hand_cards,d(i)))),s.show()})))}},X.a.implementation=function(e,a){this.a(e,a);const t=this._a.value._w.value;if(a.B("id")==t.z.value){const e=w.match_history;e.push({date:Date.now(),value:a.B("value")}),w.match_history=e}},Java.use("com.rstgames.durak.screens.b$k0").$init.implementation=function(e,a,t){this.$init(e,a,t);const s=Java.retain(this);w.autoclick_cheater&&setTimeout((()=>{Java.perform((()=>{s.clicked(S.$new(),0,0)}))}),100)};let se=Java.use("com.rstgames.durak.utils.RSTGamePlace$a"),ne=Java.use("com.rstgames.durak.utils.RSTGamePlace$PLACE_TYPE");se.clicked.implementation=function(a,s,n){const c=this.a.value,o=c._a.value._N.value,i=(o._w.value.z.value,c.H.value),u=r.app.value,l=o._x.value,_=o._W.value;e.cards_on_table=[];const g=[];null!=_&&_.forEach((a=>{2==a.g.value?e.cards_on_table.push(a._c.value):1==a.g.value&&g.push(a._c.value)}));const v=l._i.value,f=c.G.value;w.watch_cards&&f.toString()==ne.c.value.toString()?Java.scheduleOnMainThread((()=>{const a=new t(u);a.setTitle("ÐšÐ°Ñ€Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¸ÐºÐ°");let s=[...e.discard_cards,...g,...e.cards_on_table,"sw"];e.enemy_known_cards.forEach((e=>{s=[...s,...e]}));const n=o._W.value,c=[];n.forEach((e=>{c.push(e._c.value)}));const r=c.filter((e=>!s.includes(e)));a.setMessage(e.final_enemy_hand?m(h(e.enemy_hand_cards,d(v))):"Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹:\n"+m(h(e.enemy_known_cards[i],d(v)))+"\nÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹:\n"+m(h(r,d(v)))),a.show()})):this.clicked(a,s,n)},Java.use("com.rstgames.durak.screens.b$y").a.implementation=function(e,a){this.a(e,a);const t=this._a.value._a.value;w.auto_ready&&t.E().o("ready")},O.V.implementation=function(){const e=this._a.value.E();""!=w.smile&&(e.P.value=w.smile),this.V()},Java.use("com.rstgames.durak.screens.b$r").a.implementation=function(e,a){const t=w.smile;a.B("p")==this._a.value._w.value.z.value&&""!=t&&a.N("a",t),this.a(e,a)},B.n.implementation=function(e){console.log(`b0.n is called: str=${e}`);const a=w.frame;""!=a&&(e=a),this.n(e)},Java.use("com.rstgames.durak.utils.RSTGamePlace").h.implementation=function(e,a,t,s,n,c,r,o,i,u){const l=w.frame,h=this._a.value._d.value.c0.value;n.valueOf()==h.valueOf()&&""!=l&&(t=l),this.h(e,a,t,s,n,c,r,o,i,u)},Java.use("com.rstgames.durak.screens.b$l").a.implementation=function(e,a){const t=w.shirt,s=a.E("shirt");""!=t&&s.N("id",t),s.L("lvl",1),a.N("shirt",s),this.a(e,a)}}));
âœ„
const e=Java.use("java.lang.String");Java.use("android.text.Html");const t=function(e=0){let t=e;return()=>t++}();export class Color{static Color=Java.use("android.graphics.Color");static parseColor(e){return this.Color.parseColor(e)}}export class View{element;static jClass=Java.use("android.view.View");constructor(e){this.element=this.createElement(e)}View$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnClickListener$${t()}`,implements:[Java.use("android.view.View$OnClickListener")],methods:{onClick:e}}).$new()}View$OnLongClickListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnLongClickListener$${t()}`,implements:[Java.use("android.view.View$OnLongClickListener")],methods:{onLongClick:function(t){return e(t),!0}}}).$new()}View$OnTouchListener(e){return Java.registerClass({name:`com.tr1gger0ff.OnTouchListener$${t()}`,implements:[Java.use("android.view.View$OnTouchListener")],methods:{onTouch:(t,s)=>(e(t,s),!0)}}).$new()}setClickListener(e,t){t?this.element.setOnClickListener(this.View$OnClickListener(e)):this.element.addEventListener(this.View$OnClickListener(e))}setLongClickListener(e,t){t?this.element.setOnLongClickListener(this.View$OnLongClickListener(e)):this.element.addEventListener(this.View$OnLongClickListener(e))}setTouchListener(e,t){t?this.element.setOnTouchListener(this.View$OnTouchListener(e)):this.element.addEventListener(this.View$OnTouchListener(e))}setEnabled(e){this.element.setEnabled(e)}setVisibility(e){this.element.setVisibility(View.jClass[e].value)}setBackgroundColor(e){"string"==typeof e&&(e=Color.parseColor(e)),this.element.setBackgroundColor(e)}setLayoutParams(e){e instanceof LayoutParams?this.element.setLayoutParams(e.element):this.element.setLayoutParams(e)}getLayoutParams(){return new LayoutParams(Java.cast(this.element.getLayoutParams(),LayoutParams.jClass))}}export class TextView extends View{static jClass=Java.use("android.widget.TextView");createElement(e){return TextView.jClass.$new(e)}constructor(e,t){super(e),t&&this.setText(t)}getText(){return Java.cast(this.element.getText(),Java.use("java.lang.CharSequence")).toString()}getTextSize(){return this.element.getTextSize()}setText(t){this.element.setText(e.$new(t))}setHint(t){this.element.setHint(e.$new(t))}setTextSize(e){this.element.setTextSize(e)}setTextColor(e){"string"==typeof e&&(e=Color.parseColor(e)),this.element.setTextColor(e)}}export class EditText extends TextView{BufferType=Java.use("android.widget.TextView$BufferType");static jClass=Java.use("android.widget.EditText");createElement(e){return EditText.jClass.$new(e)}constructor(e,t,s){super(e),s&&this.setHint(s),t&&this.setText(t,"NORMAL")}setText(t,s="EDITABLE"){this.element.setText(e.$new(t),this.BufferType[s].value)}}export class LinearLayout extends View{LinearLayout=Java.use("android.widget.LinearLayout");static jClass=Java.use("android.widget.LinearLayout");createElement(e){return LinearLayout.jClass.$new(e)}setOrientation(e){this.element.setOrientation(this.LinearLayout[e].value)}addView(e){e instanceof View?this.element.addView(e.element):this.element.addView(e)}addViews(e){e.forEach((e=>{this.addView(e)}))}}export class CheckBox extends TextView{static jClass=Java.use("android.widget.CheckBox");CompoundButton$OnCheckedChangeListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnCheckedChangeListener$${t()}`,implements:[Java.use("android.widget.CompoundButton$OnCheckedChangeListener")],methods:{onCheckedChanged:e}}).$new()}createElement(e){return CheckBox.jClass.$new(e)}constructor(e,t,s){super(e,t),s&&this.setChecked(s)}setCheckedChangeListener(e){this.element.setOnCheckedChangeListener(this.CompoundButton$OnCheckedChangeListener(e))}isChecked(){return this.element.isChecked()}setChecked(e){this.element.setChecked(e)}}export class Dialog{element;static jClass=Java.use("android.app.Dialog");constructor(e){this.element=e}dismiss(){this.element.dismiss()}cancel(){this.element.cancel()}hide(){this.element.hide()}setCancelable(e){this.element.setCancelable(e)}setTitle(t){this.element.setTitle(e.$new(t))}isShowing(){return this.element.isShowing()}show(){this.element.show()}}export class AlertDialog extends Dialog{DialogInterface$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnClickListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnClickListener")],methods:{onClick:e}}).$new()}setButton(t,s,n){this.element.setButton(Dialog.jClass[t].value,e.$new(s),this.DialogInterface$OnClickListener(n))}setMessage(t){this.element.setMessage(e.$new(t))}setView(e){e instanceof View?this.element.setView(e.element):this.element.setView(e)}}export class DialogBuilder{static jClass=Java.use("android.app.AlertDialog$Builder");DialogInterface$OnClickListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnClickListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnClickListener")],methods:{onClick:e}}).$new()}DialogInterface$OnCancelListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnCancelListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnCancelListener")],methods:{onCancel:e}}).$new()}DialogInterface$OnDismissListener(e){return Java.registerClass({name:`com.tr1gger0ff_OnDismissListener$${t()}`,implements:[Java.use("android.content.DialogInterface$OnDismissListener")],methods:{onDismiss:e}}).$new()}dialogInstance;constructor(e){this.dialogInstance=DialogBuilder.jClass.$new(e)}setTitle(t){this.dialogInstance.setTitle(e.$new(t))}setMessage(t){this.dialogInstance.setMessage(e.$new(t))}setCancelable(e){this.dialogInstance.setCancelable(e)}setPositiveButton(t,s){this.dialogInstance.setPositiveButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setNegativeButton(t,s){this.dialogInstance.setNegativeButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setNeutralButton(t,s){this.dialogInstance.setNeutralButton(e.$new(t),this.DialogInterface$OnClickListener(s))}setCancelListener(e){this.dialogInstance.setOnCancelListener(this.DialogInterface$OnCancelListener(e))}setDismissListener(e){this.dialogInstance.setOnDismissListener(this.DialogInterface$OnDismissListener(e))}setView(e){e instanceof View?this.dialogInstance.setView(e.element):this.dialogInstance.setView(e)}show(){let e=this.dialogInstance.show();return e=Java.cast(e,AlertDialog.jClass),new AlertDialog(e)}create(){let e=this.dialogInstance.create();return e=Java.cast(e,AlertDialog.jClass),new AlertDialog(e)}}export class SharedPreferencesEditor{static jClass=Java.use("android.content.SharedPreferences$Editor");element;constructor(e){this.element=e}apply(){this.element.apply()}clear(){this.element.clear()}commit(){return this.element.commit()}putBoolean(e,t){this.element.putBoolean(e,t)}putFloat(e,t){this.element.putFloat(e,t)}putInt(e,t){this.element.putInt(e,0|t)}putLong(e,t){this.element.putLong(e,t)}putString(e,t){this.element.putString(e,t)}remove(e){this.element.remove(e)}}export class SharedPreferences{static jClass=Java.use("android.content.SharedPreferences");element;constructor(e){this.element=e}contains(e){return this.element.contains(e)}edit(){return new SharedPreferencesEditor(this.element.edit())}getBoolean(e,t){return this.element.getBoolean(e,t)}getFloat(e,t){return this.element.getFloat(e,t)}getInt(e,t){return this.element.getInt(e,0|t)}getLong(e,t){return this.element.getLong(e,t)}getString(e,t){return this.element.getString(e,t)}}export class LayoutParams{static jClass=Java.use("android.view.ViewGroup$LayoutParams");element;constructor(e){this.element=e||LayoutParams.jClass.$new()}set width(e){this.element.width.value="string"!=typeof e?e:LayoutParams.jClass[e].value}set height(e){this.element.height.value="string"!=typeof e?e:LayoutParams.jClass[e].value}}
âœ„
export class Preferences{instance;constructor(t){this.instance=t}clear(){this.instance.clear()}contains(t){return this.instance.contains(t)}flush(){this.instance.flush()}getBoolean(t,n){return void 0!==n?this.instance.getBoolean(t,n):this.instance.getBoolean(t)}getFloat(t,n){return void 0!==n?this.instance.getFloat(t,n):this.instance.getFloat(t)}getInteger(t,n){return void 0!==n?this.instance.getInteger(t,n):this.instance.getInteger(t)}getLong(t,n){return void 0!==n?this.instance.getLong(t,n):this.instance.getLong(t)}getString(t,n){return void 0!==n?this.instance.getString(t,n):this.instance.getString(t)}putBoolean(t,n){return this.instance.putBoolean(t,n)}putFloat(t,n){return this.instance.putFloat(t,n)}putInteger(t,n){return this.instance.putInteger(t,n)}putLong(t,n){return this.instance.putLong(t,n)}putString(t,n){return this.instance.putString(t,n)}remove(t){this.instance.remove(t)}}